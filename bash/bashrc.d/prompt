#!/bin/bash

get_git_branch() {
    local branch
    branch=$(git branch 2>/dev/null | grep '^*' | cut -d' ' -f2-)
    if [ -n "$branch" ]; then
        echo " $branch"
    fi
}

# Check if ANTIGRAVITY_AGENT is set
if [ "$ANTIGRAVITY_AGENT" = "1" ]; then
    PS1="$ "
# Check if running in Termux
elif [ -n "$TERMUX_VERSION" ]; then
    # Termux-specific prompt: only show current directory and git branch
    PS1="\W\$(get_git_branch)\$ "
else
    # Standard prompt for other Linux systems
    PS1="[\u@\h \W]\$(get_git_branch)\$ "
fi